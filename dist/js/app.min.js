$(function(){function o(o){var a=$("div[name='"+o+"']");$("html,body").animate({scrollTop:a.offset().top},"slow")}null===navigator.userAgent.match(/iPhone|iPad|iPod/i)&&$("#contact").remove(),navigator.userAgent.match(/iPhone|iPad|iPod/i)&&(console.log(navigator.userAgent),$("#results-container").remove(),$(".contact-modal-btn").attr("href","#contact").addClass("slow-nav").removeClass("contact-modal-btn"),$("#program-modal, footer").addClass("is-ios"),$(".is-ios #find-program-btn").click(function(){o("#contact"),$("#program-modal").closeModal()}),$("#contact #submit-info").click(function(){$("#program-modal .container").removeClass("show").addClass("hide"),$("#program-modal").openModal()}));var a,e=$("#pick-your-program"),r=$(e).offset().top,s=$(e).height(),n=$("#program-banner"),t=$(n).offset().top;$(window).scroll(function(){a=$("body").scrollTop(),a>r-s/2&&$("#pop-up-banner").css("transform","translateY(1%)"),(a>t-s/2||r-s/2>a)&&$("#pop-up-banner").css("transform","translateY(100%)")}),$("#pop-up-banner").click(function(){$("#program-modal").openModal(),$("#program-modal .container").addClass("hide"),$(".program-question-container").removeClass("hide").addClass("show")});var l=$("#quote-banner"),i=$(l).offset().top;$(window).scroll(function(){a>i-76&&$("nav").css("background-color","rgba(0, 0, 0, 0.36)"),i-76>a&&$("nav").css("background-color","transparent")});var c=$("#bgvid"),d=$("#replay"),h=$("#pause");$(window).width()>800&&c[0].play(),h.hide(),c.on("playing",function(){d.hide(),h.show()}),c.on("ended",function(){c[0].currentTime="0",h.hide(),d.show()}),d.click(function(){c[0].play(),h.hide(),d.show()}),h.click(function(){c[0].pause(),h.hide(),d.show()});var m=!1;$(window).scroll(function(){m===!1&&(d.addClass("scroll"),h.addClass("scroll"),m=!0)}),$("#green-theme").click(function(){$("nav, footer, #why-franciscan, #program-banner, .read-more").css("background-color","#21412a"),$("#color-modal").closeModal()}),$("#red-theme").click(function(){$("nav, footer, #why-franciscan, #program-banner, .read-more").css("background-color","#510d0a"),$("#color-modal").closeModal()}),$("#red-green-theme").click(function(){$("nav, footer").css("background-color","#21412a"),$("#why-franciscan, #program-banner, .read-more").css("background-color","#510d0a"),$("#color-modal").closeModal()}),$(".button-collapse").sideNav({closeOnClick:!0}),$("#testimonials .expansion-container").addClass("hide"),$("#testimonials .read-more").click(function(){$("#testimonials .expansion-container").removeClass("hide"),$("#testimonials .expansion-container").addClass("show"),$(this).hide()});var p="",u=0;$("#results-try-again, .results-row, #results-btn-row").hide(),$(".modal-trigger").leanModal({ready:function(){$("#program-modal .container").addClass("hide"),$(".program-question-container").removeClass("hide").addClass("show")}}),$("#program-modal .container").addClass("hide"),$(".program-question-container").removeClass("hide").addClass("show"),$("#find-program-btn, #fail-try-again").click(function(){p="",$("#question-1").prop("checked")===!0&&(p='<h5 class="program-name">MA Theology </h5>',u++),$("#question-2").prop("checked")===!0&&(""===p?(p='<h5 class="program-name">MA Catechetics and Evangelization </h5>',u++):(p+='<h5 class="program-name">or MA Catechetics and Evangelization </h5>',u++)),$("#question-3").prop("checked")===!0&&(""===p?(p='<h5 class="program-name">MA Theology: Catechetics Specialization </h5>',u++):(p+='<h5 class="program-name">or MA Theology: Catechetics Specialization </h5>',u++)),$("#question-4").prop("checked")===!0&&(""===p?(p='<h5 class="program-name">MA Theology: Canon Law First Cycle </h5>',u++):(p+='<h5 class="program-name">or MA Theology: Canon Law First Cycle </h5>',u++)),$("#question-5").prop("checked")===!0&&(""===p?p='<h5 class="program-name">MA Theology: Research Intensive Track </h5>':4===u?p='<h5 class="program-name">any of our programs! </h5>':p+='<h5 class="program-name">or MA Theology: Research Intensive Track </h5>',u++),0===u?"fail-try-again"===$(this).attr("id")&&($("#program-modal .container").addClass("hide"),$(".results-container").removeClass("hide").addClass("show")):(u>0&&($(".results-row, #results-btn-row").show(),$(".results-container h4").text("You're a great fit for..."),$("#results-here").html(p),$("#results-try-again").show()),$("#program-modal .container").addClass("hide"),$("#results-here").html(p),$(".program-question-container").removeClass("show").addClass("hide"),$(".results-container").removeClass("hide").addClass("show"))});var g,f;$("#submit-info").click(function(o){if(""!==$("#name").val()&&""!==$("#email").val())if(f=0===$("#checkbox-2:checked").length,f===!0){g&&g.abort();var a,e,r,s=$("#modal-request-info-form"),n=s.find("input, select, button, textarea"),t=$(s).find("input, select, button, textarea").not("input[type=checkbox]"),l="",i="",c=$(".program-name").text()||"";for(r=0;r<t.length;r++)a=$(t[r]).attr("id"),e=$(t[r]).val(),l=l+a+"="+e+"&";i=l+"program="+c,console.log(i),n.prop("disabled",!0),g=$.ajax({url:"https://script.google.com/macros/s/AKfycbzBnwogNzYZaYnH1iABGfs4G8Pm0dlSraLDtHfW-s3aduwPlnSw/exec",type:"post",data:i}),g.done(function(o,a,e){console.log("Hooray, it worked!"),console.log(o),console.log(a),console.log(e),$("#modal-request-info-form input, #modal-request-info-form textarea").val(""),$("#program-modal .container").removeClass("show").addClass("hide"),$(".success-container").removeClass("hide").addClass("show")}),g.fail(function(o,a,e){console.error("The following error occurred: "+a,e),navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0?($(".results-container").removeClass("show").addClass("hide"),$(".success-container").removeClass("hide").addClass("show")):($(".results-container").removeClass("show").addClass("hide"),$(".failure-container").removeClass("hide").addClass("show"))}),g.always(function(){n.prop("disabled",!1)}),o.preventDefault()}else $("#pgb-container label").css("color","red")}),$("#results-try-again").click(function(){u=0,$("#results-try-again, .results-row, #results-btn-row").hide(),$(".program-question-container").removeClass("hide").addClass("show"),$(this).parents(".container").removeClass("show").addClass("hide"),$('#program-modal input[type="checkbox"]').prop("checked",!1)}),$(".contact-modal-btn").click(function(){$("#program-modal").openModal(),$("#program-modal .container").addClass("hide"),$("#program-modal .results-container").removeClass("hide").addClass("show")}),$(".apply-btn").click(function(){$("#apply-modal").openModal()}),$(".slow-nav").click(function(){event.preventDefault();var a=$(this).attr("href");o(a)});var v=document.querySelector("nav"),C=new Headroom(v);C.init(),copyrightDate=(new Date).getFullYear()});
!function(t,o){"use strict";"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?module.exports=o():t.Headroom=o()}(this,function(){"use strict";function t(t){this.callback=t,this.ticking=!1}function o(t){return t&&"undefined"!=typeof window&&(t===window||t.nodeType)}function n(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var i,e,s=t||{};for(e=1;e<arguments.length;e++){var l=arguments[e]||{};for(i in l)"object"!=typeof s[i]||o(s[i])?s[i]=s[i]||l[i]:s[i]=n(s[i],l[i])}return s}function i(t){return t===Object(t)?t:{down:t,up:t}}function e(t,o){o=n(o,e.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=i(o.tolerance),this.classes=o.classes,this.offset=o.offset,this.scroller=o.scroller,this.initialised=!1,this.onPin=o.onPin,this.onUnpin=o.onUnpin,this.onTop=o.onTop,this.onNotTop=o.onNotTop,this.onBottom=o.onBottom,this.onNotBottom=o.onNotBottom}var s={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},e.prototype={constructor:e,init:function(){return e.cutsTheMustard?(this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var t=this.classes;this.initialised=!1,this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.notTop,t.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,o=this.classes;!t.contains(o.pinned)&&t.contains(o.unpinned)||(t.add(o.unpinned),t.remove(o.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,o=this.classes;t.contains(o.unpinned)&&(t.remove(o.unpinned),t.add(o.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,o=this.classes;t.contains(o.top)||(t.add(o.top),t.remove(o.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,o=this.classes;t.contains(o.notTop)||(t.add(o.notTop),t.remove(o.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,o=this.classes;t.contains(o.bottom)||(t.add(o.bottom),t.remove(o.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,o=this.classes;t.contains(o.notBottom)||(t.add(o.notBottom),t.remove(o.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,o=document.documentElement;return Math.max(t.scrollHeight,o.scrollHeight,t.offsetHeight,o.offsetHeight,t.clientHeight,o.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var o=0>t,n=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return o||n},toleranceExceeded:function(t,o){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[o]},shouldUnpin:function(t,o){var n=t>this.lastKnownScrollY,i=t>=this.offset;return n&&i&&o},shouldPin:function(t,o){var n=t<this.lastKnownScrollY,i=t<=this.offset;return n&&o||i},update:function(){var t=this.getScrollY(),o=t>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(t,o);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,n)?this.unpin():this.shouldPin(t,n)&&this.pin(),this.lastKnownScrollY=t)}},e.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},e.cutsTheMustard="undefined"!=typeof s&&s.rAF&&s.bind&&s.classList,e});